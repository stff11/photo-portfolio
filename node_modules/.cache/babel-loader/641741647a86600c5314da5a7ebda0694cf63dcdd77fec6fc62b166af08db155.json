{"ast":null,"code":"import { FunctionRegion, FunctionsClient, FunctionsError, FunctionsFetchError, FunctionsHttpError, FunctionsRelayError } from \"@supabase/functions-js\";\nimport { PostgrestClient, PostgrestError } from \"@supabase/postgrest-js\";\nimport { RealtimeClient } from \"@supabase/realtime-js\";\nimport { StorageClient } from \"@supabase/storage-js\";\nimport { AuthClient } from \"@supabase/auth-js\";\nexport * from \"@supabase/realtime-js\";\nexport * from \"@supabase/auth-js\";\n\n//#region src/lib/version.ts\nconst version = \"2.95.3\";\n\n//#endregion\n//#region src/lib/constants.ts\nlet JS_ENV = \"\";\nif (typeof Deno !== \"undefined\") JS_ENV = \"deno\";else if (typeof document !== \"undefined\") JS_ENV = \"web\";else if (typeof navigator !== \"undefined\" && navigator.product === \"ReactNative\") JS_ENV = \"react-native\";else JS_ENV = \"node\";\nconst DEFAULT_HEADERS = {\n  \"X-Client-Info\": `supabase-js-${JS_ENV}/${version}`\n};\nconst DEFAULT_GLOBAL_OPTIONS = {\n  headers: DEFAULT_HEADERS\n};\nconst DEFAULT_DB_OPTIONS = {\n  schema: \"public\"\n};\nconst DEFAULT_AUTH_OPTIONS = {\n  autoRefreshToken: true,\n  persistSession: true,\n  detectSessionInUrl: true,\n  flowType: \"implicit\"\n};\nconst DEFAULT_REALTIME_OPTIONS = {};\n\n//#endregion\n//#region \\0@oxc-project+runtime@0.101.0/helpers/typeof.js\nfunction _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o$1) {\n    return typeof o$1;\n  } : function (o$1) {\n    return o$1 && \"function\" == typeof Symbol && o$1.constructor === Symbol && o$1 !== Symbol.prototype ? \"symbol\" : typeof o$1;\n  }, _typeof(o);\n}\n\n//#endregion\n//#region \\0@oxc-project+runtime@0.101.0/helpers/toPrimitive.js\nfunction toPrimitive(t, r) {\n  if (\"object\" != _typeof(t) || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != _typeof(i)) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\n\n//#endregion\n//#region \\0@oxc-project+runtime@0.101.0/helpers/toPropertyKey.js\nfunction toPropertyKey(t) {\n  var i = toPrimitive(t, \"string\");\n  return \"symbol\" == _typeof(i) ? i : i + \"\";\n}\n\n//#endregion\n//#region \\0@oxc-project+runtime@0.101.0/helpers/defineProperty.js\nfunction _defineProperty(e, r, t) {\n  return (r = toPropertyKey(r)) in e ? Object.defineProperty(e, r, {\n    value: t,\n    enumerable: !0,\n    configurable: !0,\n    writable: !0\n  }) : e[r] = t, e;\n}\n\n//#endregion\n//#region \\0@oxc-project+runtime@0.101.0/helpers/objectSpread2.js\nfunction ownKeys(e, r) {\n  var t = Object.keys(e);\n  if (Object.getOwnPropertySymbols) {\n    var o = Object.getOwnPropertySymbols(e);\n    r && (o = o.filter(function (r$1) {\n      return Object.getOwnPropertyDescriptor(e, r$1).enumerable;\n    })), t.push.apply(t, o);\n  }\n  return t;\n}\nfunction _objectSpread2(e) {\n  for (var r = 1; r < arguments.length; r++) {\n    var t = null != arguments[r] ? arguments[r] : {};\n    r % 2 ? ownKeys(Object(t), !0).forEach(function (r$1) {\n      _defineProperty(e, r$1, t[r$1]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r$1) {\n      Object.defineProperty(e, r$1, Object.getOwnPropertyDescriptor(t, r$1));\n    });\n  }\n  return e;\n}\n\n//#endregion\n//#region src/lib/fetch.ts\nconst resolveFetch = customFetch => {\n  if (customFetch) return (...args) => customFetch(...args);\n  return (...args) => fetch(...args);\n};\nconst resolveHeadersConstructor = () => {\n  return Headers;\n};\nconst fetchWithAuth = (supabaseKey, getAccessToken, customFetch) => {\n  const fetch$1 = resolveFetch(customFetch);\n  const HeadersConstructor = resolveHeadersConstructor();\n  return async (input, init) => {\n    var _await$getAccessToken;\n    const accessToken = (_await$getAccessToken = await getAccessToken()) !== null && _await$getAccessToken !== void 0 ? _await$getAccessToken : supabaseKey;\n    let headers = new HeadersConstructor(init === null || init === void 0 ? void 0 : init.headers);\n    if (!headers.has(\"apikey\")) headers.set(\"apikey\", supabaseKey);\n    if (!headers.has(\"Authorization\")) headers.set(\"Authorization\", `Bearer ${accessToken}`);\n    return fetch$1(input, _objectSpread2(_objectSpread2({}, init), {}, {\n      headers\n    }));\n  };\n};\n\n//#endregion\n//#region src/lib/helpers.ts\nfunction ensureTrailingSlash(url) {\n  return url.endsWith(\"/\") ? url : url + \"/\";\n}\nfunction applySettingDefaults(options, defaults) {\n  var _DEFAULT_GLOBAL_OPTIO, _globalOptions$header;\n  const {\n    db: dbOptions,\n    auth: authOptions,\n    realtime: realtimeOptions,\n    global: globalOptions\n  } = options;\n  const {\n    db: DEFAULT_DB_OPTIONS$1,\n    auth: DEFAULT_AUTH_OPTIONS$1,\n    realtime: DEFAULT_REALTIME_OPTIONS$1,\n    global: DEFAULT_GLOBAL_OPTIONS$1\n  } = defaults;\n  const result = {\n    db: _objectSpread2(_objectSpread2({}, DEFAULT_DB_OPTIONS$1), dbOptions),\n    auth: _objectSpread2(_objectSpread2({}, DEFAULT_AUTH_OPTIONS$1), authOptions),\n    realtime: _objectSpread2(_objectSpread2({}, DEFAULT_REALTIME_OPTIONS$1), realtimeOptions),\n    storage: {},\n    global: _objectSpread2(_objectSpread2(_objectSpread2({}, DEFAULT_GLOBAL_OPTIONS$1), globalOptions), {}, {\n      headers: _objectSpread2(_objectSpread2({}, (_DEFAULT_GLOBAL_OPTIO = DEFAULT_GLOBAL_OPTIONS$1 === null || DEFAULT_GLOBAL_OPTIONS$1 === void 0 ? void 0 : DEFAULT_GLOBAL_OPTIONS$1.headers) !== null && _DEFAULT_GLOBAL_OPTIO !== void 0 ? _DEFAULT_GLOBAL_OPTIO : {}), (_globalOptions$header = globalOptions === null || globalOptions === void 0 ? void 0 : globalOptions.headers) !== null && _globalOptions$header !== void 0 ? _globalOptions$header : {})\n    }),\n    accessToken: async () => \"\"\n  };\n  if (options.accessToken) result.accessToken = options.accessToken;else delete result.accessToken;\n  return result;\n}\n/**\n* Validates a Supabase client URL\n*\n* @param {string} supabaseUrl - The Supabase client URL string.\n* @returns {URL} - The validated base URL.\n* @throws {Error}\n*/\nfunction validateSupabaseUrl(supabaseUrl) {\n  const trimmedUrl = supabaseUrl === null || supabaseUrl === void 0 ? void 0 : supabaseUrl.trim();\n  if (!trimmedUrl) throw new Error(\"supabaseUrl is required.\");\n  if (!trimmedUrl.match(/^https?:\\/\\//i)) throw new Error(\"Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.\");\n  try {\n    return new URL(ensureTrailingSlash(trimmedUrl));\n  } catch (_unused) {\n    throw Error(\"Invalid supabaseUrl: Provided URL is malformed.\");\n  }\n}\n\n//#endregion\n//#region src/lib/SupabaseAuthClient.ts\nvar SupabaseAuthClient = class extends AuthClient {\n  constructor(options) {\n    super(options);\n  }\n};\n\n//#endregion\n//#region src/SupabaseClient.ts\n/**\n* Supabase Client.\n*\n* An isomorphic Javascript client for interacting with Postgres.\n*/\nvar SupabaseClient = class {\n  /**\n  * Create a new client for use in the browser.\n  * @param supabaseUrl The unique Supabase URL which is supplied when you create a new project in your project dashboard.\n  * @param supabaseKey The unique Supabase Key which is supplied when you create a new project in your project dashboard.\n  * @param options.db.schema You can switch in between schemas. The schema needs to be on the list of exposed schemas inside Supabase.\n  * @param options.auth.autoRefreshToken Set to \"true\" if you want to automatically refresh the token before expiring.\n  * @param options.auth.persistSession Set to \"true\" if you want to automatically save the user session into local storage.\n  * @param options.auth.detectSessionInUrl Set to \"true\" if you want to automatically detects OAuth grants in the URL and signs in the user.\n  * @param options.realtime Options passed along to realtime-js constructor.\n  * @param options.storage Options passed along to the storage-js constructor.\n  * @param options.global.fetch A custom fetch implementation.\n  * @param options.global.headers Any additional headers to send with each network request.\n  * @example\n  * ```ts\n  * import { createClient } from '@supabase/supabase-js'\n  *\n  * const supabase = createClient('https://xyzcompany.supabase.co', 'public-anon-key')\n  * const { data } = await supabase.from('profiles').select('*')\n  * ```\n  */\n  constructor(supabaseUrl, supabaseKey, options) {\n    var _settings$auth$storag, _settings$global$head;\n    this.supabaseUrl = supabaseUrl;\n    this.supabaseKey = supabaseKey;\n    const baseUrl = validateSupabaseUrl(supabaseUrl);\n    if (!supabaseKey) throw new Error(\"supabaseKey is required.\");\n    this.realtimeUrl = new URL(\"realtime/v1\", baseUrl);\n    this.realtimeUrl.protocol = this.realtimeUrl.protocol.replace(\"http\", \"ws\");\n    this.authUrl = new URL(\"auth/v1\", baseUrl);\n    this.storageUrl = new URL(\"storage/v1\", baseUrl);\n    this.functionsUrl = new URL(\"functions/v1\", baseUrl);\n    const defaultStorageKey = `sb-${baseUrl.hostname.split(\".\")[0]}-auth-token`;\n    const DEFAULTS = {\n      db: DEFAULT_DB_OPTIONS,\n      realtime: DEFAULT_REALTIME_OPTIONS,\n      auth: _objectSpread2(_objectSpread2({}, DEFAULT_AUTH_OPTIONS), {}, {\n        storageKey: defaultStorageKey\n      }),\n      global: DEFAULT_GLOBAL_OPTIONS\n    };\n    const settings = applySettingDefaults(options !== null && options !== void 0 ? options : {}, DEFAULTS);\n    this.storageKey = (_settings$auth$storag = settings.auth.storageKey) !== null && _settings$auth$storag !== void 0 ? _settings$auth$storag : \"\";\n    this.headers = (_settings$global$head = settings.global.headers) !== null && _settings$global$head !== void 0 ? _settings$global$head : {};\n    if (!settings.accessToken) {\n      var _settings$auth;\n      this.auth = this._initSupabaseAuthClient((_settings$auth = settings.auth) !== null && _settings$auth !== void 0 ? _settings$auth : {}, this.headers, settings.global.fetch);\n    } else {\n      this.accessToken = settings.accessToken;\n      this.auth = new Proxy({}, {\n        get: (_, prop) => {\n          throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(prop)} is not possible`);\n        }\n      });\n    }\n    this.fetch = fetchWithAuth(supabaseKey, this._getAccessToken.bind(this), settings.global.fetch);\n    this.realtime = this._initRealtimeClient(_objectSpread2({\n      headers: this.headers,\n      accessToken: this._getAccessToken.bind(this)\n    }, settings.realtime));\n    if (this.accessToken) Promise.resolve(this.accessToken()).then(token => this.realtime.setAuth(token)).catch(e => console.warn(\"Failed to set initial Realtime auth token:\", e));\n    this.rest = new PostgrestClient(new URL(\"rest/v1\", baseUrl).href, {\n      headers: this.headers,\n      schema: settings.db.schema,\n      fetch: this.fetch,\n      timeout: settings.db.timeout,\n      urlLengthLimit: settings.db.urlLengthLimit\n    });\n    this.storage = new StorageClient(this.storageUrl.href, this.headers, this.fetch, options === null || options === void 0 ? void 0 : options.storage);\n    if (!settings.accessToken) this._listenForAuthEvents();\n  }\n  /**\n  * Supabase Functions allows you to deploy and invoke edge functions.\n  */\n  get functions() {\n    return new FunctionsClient(this.functionsUrl.href, {\n      headers: this.headers,\n      customFetch: this.fetch\n    });\n  }\n  /**\n  * Perform a query on a table or a view.\n  *\n  * @param relation - The table or view name to query\n  */\n  from(relation) {\n    return this.rest.from(relation);\n  }\n  /**\n  * Select a schema to query or perform an function (rpc) call.\n  *\n  * The schema needs to be on the list of exposed schemas inside Supabase.\n  *\n  * @param schema - The schema to query\n  */\n  schema(schema) {\n    return this.rest.schema(schema);\n  }\n  /**\n  * Perform a function call.\n  *\n  * @param fn - The function name to call\n  * @param args - The arguments to pass to the function call\n  * @param options - Named parameters\n  * @param options.head - When set to `true`, `data` will not be returned.\n  * Useful if you only need the count.\n  * @param options.get - When set to `true`, the function will be called with\n  * read-only access mode.\n  * @param options.count - Count algorithm to use to count rows returned by the\n  * function. Only applicable for [set-returning\n  * functions](https://www.postgresql.org/docs/current/functions-srf.html).\n  *\n  * `\"exact\"`: Exact but slow count algorithm. Performs a `COUNT(*)` under the\n  * hood.\n  *\n  * `\"planned\"`: Approximated but fast count algorithm. Uses the Postgres\n  * statistics under the hood.\n  *\n  * `\"estimated\"`: Uses exact count for low numbers and planned count for high\n  * numbers.\n  */\n  rpc(fn, args = {}, options = {\n    head: false,\n    get: false,\n    count: void 0\n  }) {\n    return this.rest.rpc(fn, args, options);\n  }\n  /**\n  * Creates a Realtime channel with Broadcast, Presence, and Postgres Changes.\n  *\n  * @param {string} name - The name of the Realtime channel.\n  * @param {Object} opts - The options to pass to the Realtime channel.\n  *\n  */\n  channel(name, opts = {\n    config: {}\n  }) {\n    return this.realtime.channel(name, opts);\n  }\n  /**\n  * Returns all Realtime channels.\n  */\n  getChannels() {\n    return this.realtime.getChannels();\n  }\n  /**\n  * Unsubscribes and removes Realtime channel from Realtime client.\n  *\n  * @param {RealtimeChannel} channel - The name of the Realtime channel.\n  *\n  */\n  removeChannel(channel) {\n    return this.realtime.removeChannel(channel);\n  }\n  /**\n  * Unsubscribes and removes all Realtime channels from Realtime client.\n  */\n  removeAllChannels() {\n    return this.realtime.removeAllChannels();\n  }\n  async _getAccessToken() {\n    var _this = this;\n    var _data$session$access_, _data$session;\n    if (_this.accessToken) return await _this.accessToken();\n    const {\n      data\n    } = await _this.auth.getSession();\n    return (_data$session$access_ = (_data$session = data.session) === null || _data$session === void 0 ? void 0 : _data$session.access_token) !== null && _data$session$access_ !== void 0 ? _data$session$access_ : _this.supabaseKey;\n  }\n  _initSupabaseAuthClient({\n    autoRefreshToken,\n    persistSession,\n    detectSessionInUrl,\n    storage,\n    userStorage,\n    storageKey,\n    flowType,\n    lock,\n    debug,\n    throwOnError\n  }, headers, fetch$1) {\n    const authHeaders = {\n      Authorization: `Bearer ${this.supabaseKey}`,\n      apikey: `${this.supabaseKey}`\n    };\n    return new SupabaseAuthClient({\n      url: this.authUrl.href,\n      headers: _objectSpread2(_objectSpread2({}, authHeaders), headers),\n      storageKey,\n      autoRefreshToken,\n      persistSession,\n      detectSessionInUrl,\n      storage,\n      userStorage,\n      flowType,\n      lock,\n      debug,\n      throwOnError,\n      fetch: fetch$1,\n      hasCustomAuthorizationHeader: Object.keys(this.headers).some(key => key.toLowerCase() === \"authorization\")\n    });\n  }\n  _initRealtimeClient(options) {\n    return new RealtimeClient(this.realtimeUrl.href, _objectSpread2(_objectSpread2({}, options), {}, {\n      params: _objectSpread2(_objectSpread2({}, {\n        apikey: this.supabaseKey\n      }), options === null || options === void 0 ? void 0 : options.params)\n    }));\n  }\n  _listenForAuthEvents() {\n    return this.auth.onAuthStateChange((event, session) => {\n      this._handleTokenChanged(event, \"CLIENT\", session === null || session === void 0 ? void 0 : session.access_token);\n    });\n  }\n  _handleTokenChanged(event, source, token) {\n    if ((event === \"TOKEN_REFRESHED\" || event === \"SIGNED_IN\") && this.changedAccessToken !== token) {\n      this.changedAccessToken = token;\n      this.realtime.setAuth(token);\n    } else if (event === \"SIGNED_OUT\") {\n      this.realtime.setAuth();\n      if (source == \"STORAGE\") this.auth.signOut();\n      this.changedAccessToken = void 0;\n    }\n  }\n};\n\n//#endregion\n//#region src/index.ts\n/**\n* Creates a new Supabase Client.\n*\n* @example\n* ```ts\n* import { createClient } from '@supabase/supabase-js'\n*\n* const supabase = createClient('https://xyzcompany.supabase.co', 'public-anon-key')\n* const { data, error } = await supabase.from('profiles').select('*')\n* ```\n*/\nconst createClient = (supabaseUrl, supabaseKey, options) => {\n  return new SupabaseClient(supabaseUrl, supabaseKey, options);\n};\nfunction shouldShowDeprecationWarning() {\n  if (typeof window !== \"undefined\") return false;\n  const _process = globalThis[\"process\"];\n  if (!_process) return false;\n  const processVersion = _process[\"version\"];\n  if (processVersion === void 0 || processVersion === null) return false;\n  const versionMatch = processVersion.match(/^v(\\d+)\\./);\n  if (!versionMatch) return false;\n  return parseInt(versionMatch[1], 10) <= 18;\n}\nif (shouldShowDeprecationWarning()) console.warn(\"⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217\");\n\n//#endregion\nexport { FunctionRegion, FunctionsError, FunctionsFetchError, FunctionsHttpError, FunctionsRelayError, PostgrestError, SupabaseClient, createClient };","map":{"version":3,"names":["version","JS_ENV","Deno","document","navigator","product","DEFAULT_HEADERS","DEFAULT_GLOBAL_OPTIONS","headers","DEFAULT_DB_OPTIONS","schema","DEFAULT_AUTH_OPTIONS","autoRefreshToken","persistSession","detectSessionInUrl","flowType","DEFAULT_REALTIME_OPTIONS","resolveFetch","customFetch","args","fetch","resolveHeadersConstructor","Headers","fetchWithAuth","supabaseKey","getAccessToken","fetch$1","HeadersConstructor","input","init","accessToken","_await$getAccessToken","has","set","_objectSpread2","ensureTrailingSlash","url","endsWith","applySettingDefaults","options","defaults","db","dbOptions","auth","authOptions","realtime","realtimeOptions","global","globalOptions","DEFAULT_DB_OPTIONS$1","DEFAULT_AUTH_OPTIONS$1","DEFAULT_REALTIME_OPTIONS$1","DEFAULT_GLOBAL_OPTIONS$1","result","storage","_DEFAULT_GLOBAL_OPTIO","_globalOptions$header","validateSupabaseUrl","supabaseUrl","trimmedUrl","trim","Error","match","URL","SupabaseAuthClient","AuthClient","constructor","SupabaseClient","baseUrl","realtimeUrl","protocol","replace","authUrl","storageUrl","functionsUrl","defaultStorageKey","hostname","split","DEFAULTS","storageKey","settings","_settings$auth$storag","_settings$global$head","_initSupabaseAuthClient","_settings$auth","Proxy","get","_","prop","String","_getAccessToken","bind","_initRealtimeClient","Promise","resolve","then","token","setAuth","catch","e","console","warn","rest","PostgrestClient","href","timeout","urlLengthLimit","StorageClient","_listenForAuthEvents","functions","FunctionsClient","from","relation","rpc","fn","head","count","channel","name","opts","config","getChannels","removeChannel","removeAllChannels","_this","data","getSession","_data$session$access_","_data$session","session","access_token","userStorage","lock","debug","throwOnError","authHeaders","Authorization","apikey","hasCustomAuthorizationHeader","Object","keys","some","key","toLowerCase","RealtimeClient","params","onAuthStateChange","event","_handleTokenChanged","source","changedAccessToken","signOut","createClient","shouldShowDeprecationWarning","window","_process","globalThis","processVersion","versionMatch","parseInt"],"sources":["/Users/stefano.foffano/Desktop/photo-portfolio claude/node_modules/@supabase/supabase-js/src/lib/version.ts","/Users/stefano.foffano/Desktop/photo-portfolio claude/node_modules/@supabase/supabase-js/src/lib/constants.ts","/Users/stefano.foffano/Desktop/photo-portfolio claude/node_modules/@supabase/supabase-js/src/lib/fetch.ts","/Users/stefano.foffano/Desktop/photo-portfolio claude/node_modules/@supabase/supabase-js/src/lib/helpers.ts","/Users/stefano.foffano/Desktop/photo-portfolio claude/node_modules/@supabase/supabase-js/src/lib/SupabaseAuthClient.ts","/Users/stefano.foffano/Desktop/photo-portfolio claude/node_modules/@supabase/supabase-js/src/SupabaseClient.ts","/Users/stefano.foffano/Desktop/photo-portfolio claude/node_modules/@supabase/supabase-js/src/index.ts"],"sourcesContent":["// Generated automatically during releases by scripts/update-version-files.ts\n// This file provides runtime access to the package version for:\n// - HTTP request headers (e.g., X-Client-Info header for API requests)\n// - Debugging and support (identifying which version is running)\n// - Telemetry and logging (version reporting in errors/analytics)\n// - Ensuring build artifacts match the published package version\nexport const version = '2.95.3'\n","// constants.ts\nimport { RealtimeClientOptions } from '@supabase/realtime-js'\nimport { SupabaseAuthClientOptions } from './types'\nimport { version } from './version'\n\nlet JS_ENV = ''\n// @ts-ignore\nif (typeof Deno !== 'undefined') {\n  JS_ENV = 'deno'\n} else if (typeof document !== 'undefined') {\n  JS_ENV = 'web'\n} else if (typeof navigator !== 'undefined' && navigator.product === 'ReactNative') {\n  JS_ENV = 'react-native'\n} else {\n  JS_ENV = 'node'\n}\n\nexport const DEFAULT_HEADERS = { 'X-Client-Info': `supabase-js-${JS_ENV}/${version}` }\n\nexport const DEFAULT_GLOBAL_OPTIONS = {\n  headers: DEFAULT_HEADERS,\n}\n\nexport const DEFAULT_DB_OPTIONS = {\n  schema: 'public',\n}\n\nexport const DEFAULT_AUTH_OPTIONS: SupabaseAuthClientOptions = {\n  autoRefreshToken: true,\n  persistSession: true,\n  detectSessionInUrl: true,\n  flowType: 'implicit',\n}\n\nexport const DEFAULT_REALTIME_OPTIONS: RealtimeClientOptions = {}\n","type Fetch = typeof fetch\n\nexport const resolveFetch = (customFetch?: Fetch): Fetch => {\n  if (customFetch) {\n    return (...args: Parameters<Fetch>) => customFetch(...args)\n  }\n  return (...args: Parameters<Fetch>) => fetch(...args)\n}\n\nexport const resolveHeadersConstructor = () => {\n  return Headers\n}\n\nexport const fetchWithAuth = (\n  supabaseKey: string,\n  getAccessToken: () => Promise<string | null>,\n  customFetch?: Fetch\n): Fetch => {\n  const fetch = resolveFetch(customFetch)\n  const HeadersConstructor = resolveHeadersConstructor()\n\n  return async (input, init) => {\n    const accessToken = (await getAccessToken()) ?? supabaseKey\n    let headers = new HeadersConstructor(init?.headers)\n\n    if (!headers.has('apikey')) {\n      headers.set('apikey', supabaseKey)\n    }\n\n    if (!headers.has('Authorization')) {\n      headers.set('Authorization', `Bearer ${accessToken}`)\n    }\n\n    return fetch(input, { ...init, headers })\n  }\n}\n","// helpers.ts\nimport { SupabaseClientOptions } from './types'\n\nexport function uuid() {\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n    var r = (Math.random() * 16) | 0,\n      v = c == 'x' ? r : (r & 0x3) | 0x8\n    return v.toString(16)\n  })\n}\n\nexport function ensureTrailingSlash(url: string): string {\n  return url.endsWith('/') ? url : url + '/'\n}\n\nexport const isBrowser = () => typeof window !== 'undefined'\n\nexport function applySettingDefaults<\n  Database = any,\n  SchemaName extends string & keyof Database = 'public' extends keyof Database\n    ? 'public'\n    : string & keyof Database,\n>(\n  options: SupabaseClientOptions<SchemaName>,\n  defaults: SupabaseClientOptions<any>\n): Required<SupabaseClientOptions<SchemaName>> {\n  const {\n    db: dbOptions,\n    auth: authOptions,\n    realtime: realtimeOptions,\n    global: globalOptions,\n  } = options\n  const {\n    db: DEFAULT_DB_OPTIONS,\n    auth: DEFAULT_AUTH_OPTIONS,\n    realtime: DEFAULT_REALTIME_OPTIONS,\n    global: DEFAULT_GLOBAL_OPTIONS,\n  } = defaults\n\n  const result: Required<SupabaseClientOptions<SchemaName>> = {\n    db: {\n      ...DEFAULT_DB_OPTIONS,\n      ...dbOptions,\n    },\n    auth: {\n      ...DEFAULT_AUTH_OPTIONS,\n      ...authOptions,\n    },\n    realtime: {\n      ...DEFAULT_REALTIME_OPTIONS,\n      ...realtimeOptions,\n    },\n    storage: {},\n    global: {\n      ...DEFAULT_GLOBAL_OPTIONS,\n      ...globalOptions,\n      headers: {\n        ...(DEFAULT_GLOBAL_OPTIONS?.headers ?? {}),\n        ...(globalOptions?.headers ?? {}),\n      },\n    },\n    accessToken: async () => '',\n  }\n\n  if (options.accessToken) {\n    result.accessToken = options.accessToken\n  } else {\n    // hack around Required<>\n    delete (result as any).accessToken\n  }\n\n  return result\n}\n\n/**\n * Validates a Supabase client URL\n *\n * @param {string} supabaseUrl - The Supabase client URL string.\n * @returns {URL} - The validated base URL.\n * @throws {Error}\n */\nexport function validateSupabaseUrl(supabaseUrl: string): URL {\n  const trimmedUrl = supabaseUrl?.trim()\n\n  if (!trimmedUrl) {\n    throw new Error('supabaseUrl is required.')\n  }\n\n  if (!trimmedUrl.match(/^https?:\\/\\//i)) {\n    throw new Error('Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.')\n  }\n\n  try {\n    return new URL(ensureTrailingSlash(trimmedUrl))\n  } catch {\n    throw Error('Invalid supabaseUrl: Provided URL is malformed.')\n  }\n}\n","import { AuthClient } from '@supabase/auth-js'\nimport { SupabaseAuthClientOptions } from './types'\n\nexport class SupabaseAuthClient extends AuthClient {\n  constructor(options: SupabaseAuthClientOptions) {\n    super(options)\n  }\n}\n","import type { AuthChangeEvent } from '@supabase/auth-js'\nimport { FunctionsClient } from '@supabase/functions-js'\nimport {\n  PostgrestClient,\n  type PostgrestFilterBuilder,\n  type PostgrestQueryBuilder,\n} from '@supabase/postgrest-js'\nimport {\n  type RealtimeChannel,\n  type RealtimeChannelOptions,\n  RealtimeClient,\n  type RealtimeClientOptions,\n} from '@supabase/realtime-js'\nimport { StorageClient as SupabaseStorageClient } from '@supabase/storage-js'\nimport {\n  DEFAULT_AUTH_OPTIONS,\n  DEFAULT_DB_OPTIONS,\n  DEFAULT_GLOBAL_OPTIONS,\n  DEFAULT_REALTIME_OPTIONS,\n} from './lib/constants'\nimport { fetchWithAuth } from './lib/fetch'\nimport { applySettingDefaults, validateSupabaseUrl } from './lib/helpers'\nimport { SupabaseAuthClient } from './lib/SupabaseAuthClient'\nimport type {\n  Fetch,\n  GenericSchema,\n  SupabaseAuthClientOptions,\n  SupabaseClientOptions,\n} from './lib/types'\nimport { GetRpcFunctionFilterBuilderByArgs } from './lib/rest/types/common/rpc'\n\n/**\n * Supabase Client.\n *\n * An isomorphic Javascript client for interacting with Postgres.\n */\nexport default class SupabaseClient<\n  Database = any,\n  // The second type parameter is also used for specifying db_schema, so we\n  // support both cases.\n  // TODO: Allow setting db_schema from ClientOptions.\n  SchemaNameOrClientOptions extends\n    | (string & keyof Omit<Database, '__InternalSupabase'>)\n    | { PostgrestVersion: string } = 'public' extends keyof Omit<Database, '__InternalSupabase'>\n    ? 'public'\n    : string & keyof Omit<Database, '__InternalSupabase'>,\n  SchemaName extends string &\n    keyof Omit<Database, '__InternalSupabase'> = SchemaNameOrClientOptions extends string &\n    keyof Omit<Database, '__InternalSupabase'>\n    ? SchemaNameOrClientOptions\n    : 'public' extends keyof Omit<Database, '__InternalSupabase'>\n      ? 'public'\n      : string & keyof Omit<Omit<Database, '__InternalSupabase'>, '__InternalSupabase'>,\n  Schema extends Omit<Database, '__InternalSupabase'>[SchemaName] extends GenericSchema\n    ? Omit<Database, '__InternalSupabase'>[SchemaName]\n    : never = Omit<Database, '__InternalSupabase'>[SchemaName] extends GenericSchema\n    ? Omit<Database, '__InternalSupabase'>[SchemaName]\n    : never,\n  ClientOptions extends { PostgrestVersion: string } = SchemaNameOrClientOptions extends string &\n    keyof Omit<Database, '__InternalSupabase'>\n    ? // If the version isn't explicitly set, look for it in the __InternalSupabase object to infer the right version\n      Database extends { __InternalSupabase: { PostgrestVersion: string } }\n      ? Database['__InternalSupabase']\n      : // otherwise default to 12\n        { PostgrestVersion: '12' }\n    : SchemaNameOrClientOptions extends { PostgrestVersion: string }\n      ? SchemaNameOrClientOptions\n      : never,\n> {\n  /**\n   * Supabase Auth allows you to create and manage user sessions for access to data that is secured by access policies.\n   */\n  auth: SupabaseAuthClient\n  realtime: RealtimeClient\n  /**\n   * Supabase Storage allows you to manage user-generated content, such as photos or videos.\n   */\n  storage: SupabaseStorageClient\n\n  protected realtimeUrl: URL\n  protected authUrl: URL\n  protected storageUrl: URL\n  protected functionsUrl: URL\n  protected rest: PostgrestClient<Database, ClientOptions, SchemaName>\n  protected storageKey: string\n  protected fetch?: Fetch\n  protected changedAccessToken?: string\n  protected accessToken?: () => Promise<string | null>\n\n  protected headers: Record<string, string>\n\n  /**\n   * Create a new client for use in the browser.\n   * @param supabaseUrl The unique Supabase URL which is supplied when you create a new project in your project dashboard.\n   * @param supabaseKey The unique Supabase Key which is supplied when you create a new project in your project dashboard.\n   * @param options.db.schema You can switch in between schemas. The schema needs to be on the list of exposed schemas inside Supabase.\n   * @param options.auth.autoRefreshToken Set to \"true\" if you want to automatically refresh the token before expiring.\n   * @param options.auth.persistSession Set to \"true\" if you want to automatically save the user session into local storage.\n   * @param options.auth.detectSessionInUrl Set to \"true\" if you want to automatically detects OAuth grants in the URL and signs in the user.\n   * @param options.realtime Options passed along to realtime-js constructor.\n   * @param options.storage Options passed along to the storage-js constructor.\n   * @param options.global.fetch A custom fetch implementation.\n   * @param options.global.headers Any additional headers to send with each network request.\n   * @example\n   * ```ts\n   * import { createClient } from '@supabase/supabase-js'\n   *\n   * const supabase = createClient('https://xyzcompany.supabase.co', 'public-anon-key')\n   * const { data } = await supabase.from('profiles').select('*')\n   * ```\n   */\n  constructor(\n    protected supabaseUrl: string,\n    protected supabaseKey: string,\n    options?: SupabaseClientOptions<SchemaName>\n  ) {\n    const baseUrl = validateSupabaseUrl(supabaseUrl)\n    if (!supabaseKey) throw new Error('supabaseKey is required.')\n\n    this.realtimeUrl = new URL('realtime/v1', baseUrl)\n    this.realtimeUrl.protocol = this.realtimeUrl.protocol.replace('http', 'ws')\n    this.authUrl = new URL('auth/v1', baseUrl)\n    this.storageUrl = new URL('storage/v1', baseUrl)\n    this.functionsUrl = new URL('functions/v1', baseUrl)\n\n    // default storage key uses the supabase project ref as a namespace\n    const defaultStorageKey = `sb-${baseUrl.hostname.split('.')[0]}-auth-token`\n    const DEFAULTS = {\n      db: DEFAULT_DB_OPTIONS,\n      realtime: DEFAULT_REALTIME_OPTIONS,\n      auth: { ...DEFAULT_AUTH_OPTIONS, storageKey: defaultStorageKey },\n      global: DEFAULT_GLOBAL_OPTIONS,\n    }\n\n    const settings = applySettingDefaults(options ?? {}, DEFAULTS)\n\n    this.storageKey = settings.auth.storageKey ?? ''\n    this.headers = settings.global.headers ?? {}\n\n    if (!settings.accessToken) {\n      this.auth = this._initSupabaseAuthClient(\n        settings.auth ?? {},\n        this.headers,\n        settings.global.fetch\n      )\n    } else {\n      this.accessToken = settings.accessToken\n\n      this.auth = new Proxy<SupabaseAuthClient>({} as any, {\n        get: (_, prop) => {\n          throw new Error(\n            `@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(\n              prop\n            )} is not possible`\n          )\n        },\n      })\n    }\n\n    this.fetch = fetchWithAuth(supabaseKey, this._getAccessToken.bind(this), settings.global.fetch)\n    this.realtime = this._initRealtimeClient({\n      headers: this.headers,\n      accessToken: this._getAccessToken.bind(this),\n      ...settings.realtime,\n    })\n    if (this.accessToken) {\n      // Start auth immediately to avoid race condition with channel subscriptions\n      // Wrap Promise to avoid Firefox extension cross-context Promise access errors\n      Promise.resolve(this.accessToken())\n        .then((token) => this.realtime.setAuth(token))\n        .catch((e) => console.warn('Failed to set initial Realtime auth token:', e))\n    }\n\n    this.rest = new PostgrestClient(new URL('rest/v1', baseUrl).href, {\n      headers: this.headers,\n      schema: settings.db.schema,\n      fetch: this.fetch,\n      timeout: settings.db.timeout,\n      urlLengthLimit: settings.db.urlLengthLimit,\n    })\n\n    this.storage = new SupabaseStorageClient(\n      this.storageUrl.href,\n      this.headers,\n      this.fetch,\n      options?.storage\n    )\n\n    if (!settings.accessToken) {\n      this._listenForAuthEvents()\n    }\n  }\n\n  /**\n   * Supabase Functions allows you to deploy and invoke edge functions.\n   */\n  get functions(): FunctionsClient {\n    return new FunctionsClient(this.functionsUrl.href, {\n      headers: this.headers,\n      customFetch: this.fetch,\n    })\n  }\n\n  // NOTE: signatures must be kept in sync with PostgrestClient.from\n  from<\n    TableName extends string & keyof Schema['Tables'],\n    Table extends Schema['Tables'][TableName],\n  >(relation: TableName): PostgrestQueryBuilder<ClientOptions, Schema, Table, TableName>\n  from<ViewName extends string & keyof Schema['Views'], View extends Schema['Views'][ViewName]>(\n    relation: ViewName\n  ): PostgrestQueryBuilder<ClientOptions, Schema, View, ViewName>\n  /**\n   * Perform a query on a table or a view.\n   *\n   * @param relation - The table or view name to query\n   */\n  from(relation: string): PostgrestQueryBuilder<ClientOptions, Schema, any> {\n    return this.rest.from(relation)\n  }\n\n  // NOTE: signatures must be kept in sync with PostgrestClient.schema\n  /**\n   * Select a schema to query or perform an function (rpc) call.\n   *\n   * The schema needs to be on the list of exposed schemas inside Supabase.\n   *\n   * @param schema - The schema to query\n   */\n  schema<DynamicSchema extends string & keyof Omit<Database, '__InternalSupabase'>>(\n    schema: DynamicSchema\n  ): PostgrestClient<\n    Database,\n    ClientOptions,\n    DynamicSchema,\n    Database[DynamicSchema] extends GenericSchema ? Database[DynamicSchema] : any\n  > {\n    return this.rest.schema<DynamicSchema>(schema)\n  }\n\n  // NOTE: signatures must be kept in sync with PostgrestClient.rpc\n  /**\n   * Perform a function call.\n   *\n   * @param fn - The function name to call\n   * @param args - The arguments to pass to the function call\n   * @param options - Named parameters\n   * @param options.head - When set to `true`, `data` will not be returned.\n   * Useful if you only need the count.\n   * @param options.get - When set to `true`, the function will be called with\n   * read-only access mode.\n   * @param options.count - Count algorithm to use to count rows returned by the\n   * function. Only applicable for [set-returning\n   * functions](https://www.postgresql.org/docs/current/functions-srf.html).\n   *\n   * `\"exact\"`: Exact but slow count algorithm. Performs a `COUNT(*)` under the\n   * hood.\n   *\n   * `\"planned\"`: Approximated but fast count algorithm. Uses the Postgres\n   * statistics under the hood.\n   *\n   * `\"estimated\"`: Uses exact count for low numbers and planned count for high\n   * numbers.\n   */\n  rpc<\n    FnName extends string & keyof Schema['Functions'],\n    Args extends Schema['Functions'][FnName]['Args'] = never,\n    FilterBuilder extends GetRpcFunctionFilterBuilderByArgs<\n      Schema,\n      FnName,\n      Args\n    > = GetRpcFunctionFilterBuilderByArgs<Schema, FnName, Args>,\n  >(\n    fn: FnName,\n    args: Args = {} as Args,\n    options: {\n      head?: boolean\n      get?: boolean\n      count?: 'exact' | 'planned' | 'estimated'\n    } = {\n      head: false,\n      get: false,\n      count: undefined,\n    }\n  ): PostgrestFilterBuilder<\n    ClientOptions,\n    Schema,\n    FilterBuilder['Row'],\n    FilterBuilder['Result'],\n    FilterBuilder['RelationName'],\n    FilterBuilder['Relationships'],\n    'RPC'\n  > {\n    return this.rest.rpc(fn, args, options) as unknown as PostgrestFilterBuilder<\n      ClientOptions,\n      Schema,\n      FilterBuilder['Row'],\n      FilterBuilder['Result'],\n      FilterBuilder['RelationName'],\n      FilterBuilder['Relationships'],\n      'RPC'\n    >\n  }\n\n  /**\n   * Creates a Realtime channel with Broadcast, Presence, and Postgres Changes.\n   *\n   * @param {string} name - The name of the Realtime channel.\n   * @param {Object} opts - The options to pass to the Realtime channel.\n   *\n   */\n  channel(name: string, opts: RealtimeChannelOptions = { config: {} }): RealtimeChannel {\n    return this.realtime.channel(name, opts)\n  }\n\n  /**\n   * Returns all Realtime channels.\n   */\n  getChannels(): RealtimeChannel[] {\n    return this.realtime.getChannels()\n  }\n\n  /**\n   * Unsubscribes and removes Realtime channel from Realtime client.\n   *\n   * @param {RealtimeChannel} channel - The name of the Realtime channel.\n   *\n   */\n  removeChannel(channel: RealtimeChannel): Promise<'ok' | 'timed out' | 'error'> {\n    return this.realtime.removeChannel(channel)\n  }\n\n  /**\n   * Unsubscribes and removes all Realtime channels from Realtime client.\n   */\n  removeAllChannels(): Promise<('ok' | 'timed out' | 'error')[]> {\n    return this.realtime.removeAllChannels()\n  }\n\n  private async _getAccessToken() {\n    if (this.accessToken) {\n      return await this.accessToken()\n    }\n\n    const { data } = await this.auth.getSession()\n\n    return data.session?.access_token ?? this.supabaseKey\n  }\n\n  private _initSupabaseAuthClient(\n    {\n      autoRefreshToken,\n      persistSession,\n      detectSessionInUrl,\n      storage,\n      userStorage,\n      storageKey,\n      flowType,\n      lock,\n      debug,\n      throwOnError,\n    }: SupabaseAuthClientOptions,\n    headers?: Record<string, string>,\n    fetch?: Fetch\n  ) {\n    const authHeaders = {\n      Authorization: `Bearer ${this.supabaseKey}`,\n      apikey: `${this.supabaseKey}`,\n    }\n    return new SupabaseAuthClient({\n      url: this.authUrl.href,\n      headers: { ...authHeaders, ...headers },\n      storageKey: storageKey,\n      autoRefreshToken,\n      persistSession,\n      detectSessionInUrl,\n      storage,\n      userStorage,\n      flowType,\n      lock,\n      debug,\n      throwOnError,\n      fetch,\n      // auth checks if there is a custom authorizaiton header using this flag\n      // so it knows whether to return an error when getUser is called with no session\n      hasCustomAuthorizationHeader: Object.keys(this.headers).some(\n        (key) => key.toLowerCase() === 'authorization'\n      ),\n    })\n  }\n\n  private _initRealtimeClient(options: RealtimeClientOptions) {\n    return new RealtimeClient(this.realtimeUrl.href, {\n      ...options,\n      params: { ...{ apikey: this.supabaseKey }, ...options?.params },\n    })\n  }\n\n  private _listenForAuthEvents() {\n    const data = this.auth.onAuthStateChange((event, session) => {\n      this._handleTokenChanged(event, 'CLIENT', session?.access_token)\n    })\n    return data\n  }\n\n  private _handleTokenChanged(\n    event: AuthChangeEvent,\n    source: 'CLIENT' | 'STORAGE',\n    token?: string\n  ) {\n    if (\n      (event === 'TOKEN_REFRESHED' || event === 'SIGNED_IN') &&\n      this.changedAccessToken !== token\n    ) {\n      this.changedAccessToken = token\n      this.realtime.setAuth(token)\n    } else if (event === 'SIGNED_OUT') {\n      this.realtime.setAuth()\n      if (source == 'STORAGE') this.auth.signOut()\n      this.changedAccessToken = undefined\n    }\n  }\n}\n","import SupabaseClient from './SupabaseClient'\nimport type { SupabaseClientOptions } from './lib/types'\n\nexport * from '@supabase/auth-js'\nexport type { User as AuthUser, Session as AuthSession } from '@supabase/auth-js'\nexport type {\n  PostgrestResponse,\n  PostgrestSingleResponse,\n  PostgrestMaybeSingleResponse,\n} from '@supabase/postgrest-js'\nexport { PostgrestError } from '@supabase/postgrest-js'\nexport type { FunctionInvokeOptions } from '@supabase/functions-js'\nexport {\n  FunctionsHttpError,\n  FunctionsFetchError,\n  FunctionsRelayError,\n  FunctionsError,\n  FunctionRegion,\n} from '@supabase/functions-js'\nexport * from '@supabase/realtime-js'\nexport { default as SupabaseClient } from './SupabaseClient'\nexport type {\n  SupabaseClientOptions,\n  QueryResult,\n  QueryData,\n  QueryError,\n  DatabaseWithoutInternals,\n} from './lib/types'\n\n/**\n * Creates a new Supabase Client.\n *\n * @example\n * ```ts\n * import { createClient } from '@supabase/supabase-js'\n *\n * const supabase = createClient('https://xyzcompany.supabase.co', 'public-anon-key')\n * const { data, error } = await supabase.from('profiles').select('*')\n * ```\n */\nexport const createClient = <\n  Database = any,\n  SchemaNameOrClientOptions extends\n    | (string & keyof Omit<Database, '__InternalSupabase'>)\n    | { PostgrestVersion: string } = 'public' extends keyof Omit<Database, '__InternalSupabase'>\n    ? 'public'\n    : string & keyof Omit<Database, '__InternalSupabase'>,\n  SchemaName extends string &\n    keyof Omit<Database, '__InternalSupabase'> = SchemaNameOrClientOptions extends string &\n    keyof Omit<Database, '__InternalSupabase'>\n    ? SchemaNameOrClientOptions\n    : 'public' extends keyof Omit<Database, '__InternalSupabase'>\n      ? 'public'\n      : string & keyof Omit<Omit<Database, '__InternalSupabase'>, '__InternalSupabase'>,\n>(\n  supabaseUrl: string,\n  supabaseKey: string,\n  options?: SupabaseClientOptions<SchemaName>\n): SupabaseClient<Database, SchemaNameOrClientOptions, SchemaName> => {\n  return new SupabaseClient<Database, SchemaNameOrClientOptions, SchemaName>(\n    supabaseUrl,\n    supabaseKey,\n    options\n  )\n}\n\n// Check for Node.js <= 18 deprecation\nfunction shouldShowDeprecationWarning(): boolean {\n  // Skip in browser environments\n  if (typeof window !== 'undefined') {\n    return false\n  }\n\n  // Skip if process is not available (e.g., Edge Runtime)\n  // Use dynamic property access to avoid Next.js Edge Runtime static analysis warnings\n  const _process = (globalThis as any)['process']\n  if (!_process) {\n    return false\n  }\n\n  const processVersion = _process['version']\n  if (processVersion === undefined || processVersion === null) {\n    return false\n  }\n\n  const versionMatch = processVersion.match(/^v(\\d+)\\./)\n  if (!versionMatch) {\n    return false\n  }\n\n  const majorVersion = parseInt(versionMatch[1], 10)\n  return majorVersion <= 18\n}\n\nif (shouldShowDeprecationWarning()) {\n  console.warn(\n    `⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. ` +\n      `Please upgrade to Node.js 20 or later. ` +\n      `For more information, visit: https://github.com/orgs/supabase/discussions/37217`\n  )\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}